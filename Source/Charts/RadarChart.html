<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

        <script src="./Data/d3DefaultConfig.js"></script>
        <script src="./Data/utils.js"></script>
        <link rel="stylesheet" href="Data/general.css" />

        <!-- D3.js -->
        <script src="./Data/d3.v5.min.js" charset="utf-8"></script>
        <script src="./Data/d3.v4.min.js"></script>
        <script src="Data/d3-scale-chromatic.v1.min.js"></script>

        <style>
            body {
                font-family: "Open Sans", sans-serif;
                font-size: 11px;
                font-weight: 300;
                fill: #242424;
                /* text-align: center; */
                text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff,
                    0 -1px 0 #fff;
                cursor: default;
            }

            .legend {
                font-family: "Raleway", sans-serif;
                fill: #333333;
            }

            .tooltip {
                fill: #333333;
            }
        </style>
    </head>
    <body>
        <div id="my_dataviz" class="radarChart"></div>
        <div id="tooltip"></div>

        <script>
            var mouseX = 0,
                mouseY = 0;
            window.onmousemove = function (event) {
                mouseX = event.clientX;
                mouseY = event.clientY;
            };
        </script>
        <script src="./Data/radar.js"></script>
        <script>
            // var data = [
            //     [
            //         //iPhone
            //         { axis: "Battery Life", value: 100 },
            //         { axis: "Brand", value: 200 },
            //         { axis: "Contract Cost", value: 300 },
            //         { axis: "Design And Quality", value: 400 },
            //         { axis: "Have Internet Connectivity", value: 200 },
            //         { axis: "Large Screen", value: 800 },
            //         { axis: "Price Of Device", value: 210 },
            //         { axis: "To Be A Smartphone", value: 50 },
            //     ],
            // ];
            var data = [
                [
                    {
                        axis: "Furniture",
                        value: 27550,
                    },
                    {
                        axis: "Office Supplies",
                        value: 13384,
                    },
                    {
                        axis: "Technology",
                        value: 9310,
                    },
                ],
                ["Category", "Sales"],
            ];

            data = [
                [
                    {
                        axis: "Furniture",
                        value: 27550,
                    },
                    {
                        axis: "Office Supplies",
                        value: 13384,
                    },
                    {
                        axis: "Test 2",
                        value: 0,
                    },
                    {
                        axis: "Test 3",
                        value: -13384,
                    },
                    {
                        axis: "Technology",
                        value: -20000,
                    },
                    {
                        axis: "Technology",
                        value: -27000,
                    },
                ],
                ["Category", "Sales"],
            ];

            data = [
                [
                    {
                        axis: "Furniture",
                        value: -3636,
                    },
                    {
                        axis: "Office Supplies",
                        value: 2010,
                    },
                    {
                        axis: "Technology",
                        value: 1362,
                    },
                ],
                ["Category", "Profit"],
            ];

            // Color Pallets - Set 3
            const d3colors = [
                "#8DD3C9",
                "#FFFFAA",
                "#B8BED6",
                "#F98171",
                "#78B5D1",
                "#FFB15B",
                "#B4E061",
                "#FDCDE5",
                "#DAD9D4",
                "#BD7FBE",
                "#CDE9C1",
                "#FFEA77",
            ];

            function drawChart(data, plottingConfiguration = {}) {
                var dataValues = [data[0]];
                var label = data[1];

                let {
                    d3colorPalette,
                    paddingInner,
                    markerShape,
                    curveType,
                    // font size
                    xLabelfontSize = defaultD3Config.fontSize,
                    yLabelfontSize = defaultD3Config.fontSize,
                    xTickfontSize = defaultD3Config.fontSize,
                    yTickfontSize = defaultD3Config.fontSize,
                    dataLabelfontSize = defaultD3Config.fontSize,
                    // font family
                    xLabelfontFamily = defaultD3Config.fontFamily,
                    yLabelfontFamily = defaultD3Config.fontFamily,
                    xTickfontFamily = defaultD3Config.fontFamily,
                    yTickfontFamily = defaultD3Config.fontFamily,
                    dataLabelfontFamily = defaultD3Config.fontFamily,
                    // font color
                    xLabelfontColor = defaultD3Config.fontColor,
                    yLabelfontColor = defaultD3Config.fontColor,
                    xTickfontColor = defaultD3Config.fontColor,
                    yTickfontColor = defaultD3Config.fontColor,
                    dataLabelColor = defaultD3Config.fontColor,
                } = plottingConfiguration;
                window.xLabelfontSize = xLabelfontSize;
                window.yLabelfontSize = yLabelfontSize;
                window.xTickfontSize = xTickfontSize;
                window.yTickfontSize = yTickfontSize;
                window.dataLabelfontSize = dataLabelfontSize;

                window.xLabelfontFamily = xLabelfontFamily;
                window.yLabelfontFamily = yLabelfontFamily;
                window.xTickfontFamily = xTickfontFamily;
                window.yTickfontFamily = yTickfontFamily;
                window.dataLabelfontFamily = dataLabelfontFamily;

                window.xLabelfontColor = xLabelfontColor;
                window.yLabelfontColor = yLabelfontColor;
                window.xTickfontColor = xTickfontColor;
                window.yTickfontColor = yTickfontColor;
                window.dataLabelColor = dataLabelColor;

                if (!d3colorPalette) {
                    d3colorPalette = defaultD3Config.d3ColorPalette;
                }
                d3Colors = d3colorPalette;

                if (!paddingInner) {
                    paddingInner = defaultD3Config.defaultPaddingInner;
                }

                d3.selectAll("#my_dataviz").html("");
                let margin = { top: 100, right: 100, bottom: 100, left: 100 },
                    width = window.innerWidth - margin.left - margin.right - 20,
                    height =
                        window.innerHeight - margin.top - margin.bottom - 20;

                var color = d3.scale.ordinal().range(d3Colors);

                radius = Math.min(width / 2, height / 2);

                if (window.innerWidth < 700 || window.innerHeight < 700) {
                    radius = Math.min(width, height);
                }

                if (radius < 0) {
                    radius = 2;
                }

                var radarChartOptions = {
                    w: width,
                    h: height,
                    margin: margin,
                    maxValue: 0,
                    levels: 6,
                    roundStrokes: true,
                    color: color,
                    radius,
                };

                RadarChart("#my_dataviz", dataValues, radarChartOptions,label);
                d3.selectAll(".axisLabel")
                    .style("font-size", xTickfontSize)
                    .style("font-family", xTickfontFamily)
                    .attr("fill", xTickfontColor);
                // .attr("y", 8);
                d3.selectAll(".axis text")
                    .style("font-size", yTickfontSize)
                    .style("font-family", yTickfontFamily)
                    .attr("fill", yTickfontColor);
                //Call function to draw the Radar chart
            }

            drawChart(data);
        </script>
    </body>
</html>
